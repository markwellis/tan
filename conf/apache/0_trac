WSGIPythonPath /mnt/stuff/python
<VirtualHost 88.198.17.221:443>
    ServerName trac.thisaintnews.com
    ServerAlias trac.dev.thisaintnews.com

    ErrorLog /var/log/apache2/error.log
    CustomLog /var/log/apache2/access.trac.log combined

    SSLEngine on
    SSLProtocol all -SSLv2
    SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM

    SSLCertificateFile      /var/www/TAN/conf/ssl/cacert/thisaintnews.crt
    SSLCertificateKeyFile   /var/www/TAN/conf/ssl/thisaintnews.key
    SSLCertificateChainFile /var/www/TAN/conf/ssl/cacert/cacert_root.crt

    Alias /thisaintnews/chrome/common /var/lib/trac/thisaintnews/htdocs/common
    Alias /thisaintnews/chrome/site /var/lib/trac/thisaintnews/htdocs/site
    
    <Directory "/var/lib/trac/thisaintnews/htdocs">
      Order allow,deny
      Allow from all
    </Directory>
    
    WSGIScriptAlias /thisaintnews /var/lib/trac/thisaintnews/cgi-bin/trac.wsgi

    <LocationMatch "/">
        Options FollowSymLinks
        WSGIApplicationGroup %{GLOBAL}

        AuthType Basic
        AuthName "Trac Server"
        AuthUserFile /var/lib/trac/thisaintnews/passwd
        Require valid-user

        RewriteEngine on
        RewriteCond %{REQUEST_URI} !thisaintnews/
        RewriteRule .* /thisaintnews/ [R,NC,L]
    </LocationMatch>
</VirtualHost>
